<!-- 대시보드 -->
<%= link_to "대시보드", diagnostic_teacher_dashboard_path, class: "portal-nav-link#{' is-active' if current == :dashboard}" %>

<!-- 진단 관리 (서브메뉴) -->
<div class="portal-nav-section">
  <div class="portal-nav-section__title">진단 관리</div>
  <div class="portal-nav-submenu">
    <%= link_to "학교 담당자 관리", diagnostic_teacher_managers_path, class: "portal-nav-sublink#{' is-active' if current == :managers}" %>
    <%= link_to "학생별 진단 배정", diagnostic_teacher_assignments_path, class: "portal-nav-sublink#{' is-active' if current == :assignments}" %>
    <%= link_to "문항 관리", diagnostic_teacher_items_path, class: "portal-nav-sublink#{' is-active' if current == :items}" %>
    <%= link_to "진단 결과 리포트", diagnostic_teacher_reports_path, class: "portal-nav-sublink#{' is-active' if current == :reports}" %>
  </div>
</div>

<!-- 진단 분석 (서브메뉴) -->
<div class="portal-nav-section">
  <div class="portal-nav-section__title">진단 분석</div>
  <div class="portal-nav-submenu">
    <%= link_to "응시/채점 현황", diagnostic_teacher_diagnostics_status_path, class: "portal-nav-sublink#{' is-active' if current == :diagnostics_status}" %>
    <%= link_to "피드백 프롬프트", diagnostic_teacher_feedback_prompts_path, class: "portal-nav-sublink#{' is-active' if current == :feedback_prompts}" %>
    <%= link_to "학생별 피드백", diagnostic_teacher_feedbacks_path, class: "portal-nav-sublink#{' is-active' if current == :feedbacks}" %>
  </div>
</div>

<!-- 공지사항 및 상담 관리 (서브메뉴) -->
<div class="portal-nav-section">
  <div class="portal-nav-section__title">공지사항 및 상담</div>
  <div class="portal-nav-submenu">
    <%= link_to "공지사항 관리", diagnostic_teacher_notices_path, class: "portal-nav-sublink#{' is-active' if current == :notices}" %>
    <%= link_to "학생 상담 관리", diagnostic_teacher_consultations_path, class: "portal-nav-sublink#{' is-active' if current == :consultations}" %>
    <%= link_to "학부모 상담 관리", diagnostic_teacher_consultation_requests_path, class: "portal-nav-sublink#{' is-active' if current == :consultation_requests}" %>
    <%= link_to "상담 통계", diagnostic_teacher_consultation_statistics_path, class: "portal-nav-sublink#{' is-active' if current == :consultation_statistics}" %>
  </div>
</div>

<!-- 부모 공유 게시판 -->
<%= link_to "부모 공유 게시판", diagnostic_teacher_forums_path, class: "portal-nav-link#{' is-active' if current == :forums}" %>

<!-- 독서 발문 가이드 -->
<%= link_to "독서 발문 가이드", diagnostic_teacher_guide_path, class: "portal-nav-link#{' is-active' if current == :guide}" %>

<!-- 내 정보 -->
<%= link_to "내 정보 / 비밀번호 변경", profile_path, class: "portal-nav-link#{' is-active' if current == :profile}" %>

<style>
  .portal-nav-section {
    margin: 12px 0;
  }

  .portal-nav-section__title {
    font-size: 12px;
    font-weight: 600;
    color: #94a3b8;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    padding: 8px 12px;
    margin-bottom: 4px;
    border-bottom: 1px solid #e2e8f0;
  }

  .portal-nav-submenu {
    display: flex;
    flex-direction: column;
    gap: 0;
  }

  .portal-nav-sublink {
    display: block;
    padding: 8px 16px;
    font-size: 13px;
    color: #475569;
    text-decoration: none;
    border-left: 3px solid transparent;
    transition: all 0.15s;
  }

  .portal-nav-sublink:hover {
    background: #f8fafc;
    color: #2f5bff;
    border-left-color: #2f5bff;
  }

  .portal-nav-sublink.is-active {
    background: #eff6ff;
    color: #2f5bff;
    border-left-color: #2f5bff;
    font-weight: 500;
  }
</style>
