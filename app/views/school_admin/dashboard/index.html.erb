<% content_for :page_title do %>학교 관리자 대시보드<% end %>

<!-- Page Header -->
<div class="rp-page-header">
  <div class="rp-flex rp-items-center rp-justify-between">
    <div>
      <h1 class="rp-page-header__title">리딩중학교 대시보드</h1>
      <p class="rp-page-header__subtitle">학교 전체 진단 현황과 운영 지표를 확인하세요.</p>
    </div>
    <div class="rp-flex rp-gap-2">
      <a href="/school_admin/reports" class="rp-btn rp-btn--secondary">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3"></path>
        </svg>
        보고서 내보내기
      </a>
    </div>
  </div>
</div>

<!-- Stats Grid -->
<div class="rp-grid rp-grid--4 rp-stagger rp-mb-6">
  <div class="rp-stat">
    <div class="rp-stat__label">전체 학생</div>
    <div class="rp-stat__value">320명</div>
    <div class="rp-stat__trend">12개 학급</div>
  </div>
  <div class="rp-stat">
    <div class="rp-stat__label">진단 참여율</div>
    <div class="rp-stat__value" style="color: var(--rp-success);">84%</div>
    <div class="rp-stat__trend rp-stat__trend--up">+5% 전월 대비</div>
  </div>
  <div class="rp-stat">
    <div class="rp-stat__label">완료 리포트</div>
    <div class="rp-stat__value">215건</div>
    <div class="rp-stat__trend">이번 학기</div>
  </div>
  <div class="rp-stat">
    <div class="rp-stat__label">대기 피드백</div>
    <div class="rp-stat__value" style="color: var(--rp-warning);">18건</div>
    <div class="rp-stat__trend">검토 필요</div>
  </div>
</div>

<!-- Main Content Grid -->
<div class="rp-grid rp-grid--2 rp-mb-6">
  <!-- Grade Summary -->
  <div class="rp-card">
    <div class="rp-card__header">
      <div>
        <h3 class="rp-card__title">학년별 진단 결과</h3>
        <p class="rp-card__subtitle">학년별 평균 점수 비교</p>
      </div>
    </div>
    <div class="rp-card__body">
      <div class="rp-chart-placeholder" style="height: 180px;">
        <div style="display: flex; gap: 24px; align-items: flex-end; height: 100%;">
          <div style="text-align: center; flex: 1;">
            <div class="rp-chart-bar" style="height: 68%; width: 100%;"></div>
            <div style="margin-top: 8px; font-size: 12px; color: var(--rp-text-muted);">1학년</div>
            <div style="font-weight: 600; color: var(--rp-text-title);">68점</div>
          </div>
          <div style="text-align: center; flex: 1;">
            <div class="rp-chart-bar" style="height: 72%; width: 100%;"></div>
            <div style="margin-top: 8px; font-size: 12px; color: var(--rp-text-muted);">2학년</div>
            <div style="font-weight: 600; color: var(--rp-text-title);">72점</div>
          </div>
          <div style="text-align: center; flex: 1;">
            <div class="rp-chart-bar" style="height: 70%; width: 100%;"></div>
            <div style="margin-top: 8px; font-size: 12px; color: var(--rp-text-muted);">3학년</div>
            <div style="font-weight: 600; color: var(--rp-text-title);">70점</div>
          </div>
        </div>
      </div>
    </div>
    <div class="rp-card__footer">
      <a href="/school_admin/reports" class="rp-btn rp-btn--secondary rp-btn--sm">
        상세 분석 보기
      </a>
    </div>
  </div>

  <!-- Recent Activity -->
  <div class="rp-card">
    <div class="rp-card__header">
      <h3 class="rp-card__title">최근 활동</h3>
      <span class="rp-badge rp-badge--info">3건</span>
    </div>
    <div class="rp-card__body">
      <div class="rp-table-wrapper">
        <table class="rp-table">
          <tbody>
            <tr>
              <td>
                <strong>2학년 3반 진단 완료</strong>
                <div class="rp-text-muted" style="font-size: 12px;">리포트 생성 대기</div>
              </td>
              <td class="rp-text-right">
                <span class="rp-badge rp-badge--success">오늘</span>
              </td>
            </tr>
            <tr>
              <td>
                <strong>피드백 요청 6건</strong>
                <div class="rp-text-muted" style="font-size: 12px;">교사 검토 중</div>
              </td>
              <td class="rp-text-right">
                <span class="rp-badge rp-badge--warning">어제</span>
              </td>
            </tr>
            <tr>
              <td>
                <strong>독서 프로그램 운영 보고</strong>
                <div class="rp-text-muted" style="font-size: 12px;">학급별 비교 결과 업데이트</div>
              </td>
              <td class="rp-text-right">
                <span class="rp-badge rp-badge--default">1주 전</span>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<!-- Class Status Table -->
<div class="rp-card">
  <div class="rp-card__header">
    <div>
      <h3 class="rp-card__title">학급별 진단 현황</h3>
      <p class="rp-card__subtitle">각 학급의 진단 참여 현황을 확인합니다.</p>
    </div>
    <a href="/school_admin/diagnostics" class="rp-btn rp-btn--primary rp-btn--sm">
      진단 배포
    </a>
  </div>
  <div class="rp-card__body">
    <div class="rp-table-wrapper">
      <table class="rp-table">
        <thead>
          <tr>
            <th>학급</th>
            <th>담당교사</th>
            <th>학생수</th>
            <th>참여율</th>
            <th>평균점수</th>
            <th>상태</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>2학년 1반</strong></td>
            <td>김민수</td>
            <td>28명</td>
            <td>92%</td>
            <td>74점</td>
            <td><span class="rp-badge rp-badge--success">완료</span></td>
          </tr>
          <tr>
            <td><strong>2학년 2반</strong></td>
            <td>이지영</td>
            <td>27명</td>
            <td>88%</td>
            <td>71점</td>
            <td><span class="rp-badge rp-badge--success">완료</span></td>
          </tr>
          <tr>
            <td><strong>2학년 3반</strong></td>
            <td>박준호</td>
            <td>26명</td>
            <td>78%</td>
            <td>69점</td>
            <td><span class="rp-badge rp-badge--warning">진행중</span></td>
          </tr>
          <tr>
            <td><strong>2학년 4반</strong></td>
            <td>최서연</td>
            <td>28명</td>
            <td>45%</td>
            <td>-</td>
            <td><span class="rp-badge rp-badge--draft">대기</span></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
