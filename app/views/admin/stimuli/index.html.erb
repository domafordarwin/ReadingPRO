<header class="admin-header">
  <div>
    <h1 class="admin-title">지문 관리</h1>
    <p class="admin-subtitle">지문을 등록하고 문항과 연결하세요</p>
  </div>
  <div class="admin-actions">
    <%= link_to "새 지문", new_admin_stimulus_path, class: "admin-button primary" %>
  </div>
</header>

<section class="admin-card">
  <%= form_with url: admin_stimuli_path, method: :get, local: true, class: "admin-form" do |form| %>
    <div>
      <%= form.label :q, "검색" %>
      <%= form.text_field :q, value: @query, class: "admin-input small", placeholder: "코드 또는 제목" %>
    </div>
    <div>
      <%= form.submit "검색", class: "admin-button secondary" %>
      <%= link_to "초기화", admin_stimuli_path, class: "admin-button" %>
    </div>
  <% end %>
</section>

<section class="admin-card">
  <div class="admin-muted">총 <strong><%= @stimuli.count %></strong>개 지문</div>
  <table class="admin-table">
    <thead>
      <tr>
        <th>지문 코드</th>
        <th>제목</th>
        <th>문항 수</th>
        <th>관리</th>
      </tr>
    </thead>
    <tbody>
      <% @stimuli.each do |stimulus| %>
        <tr>
          <td><%= stimulus.code || "-" %></td>
          <td><%= stimulus.title %></td>
          <td><%= stimulus.items.size %></td>
          <td>
            <div class="admin-actions">
              <%= link_to "상세", admin_stimulus_path(stimulus), class: "admin-button" %>
              <%= link_to "수정", edit_admin_stimulus_path(stimulus), class: "admin-button" %>
              <%= link_to "문항", admin_items_path(stimulus_id: stimulus.id), class: "admin-button secondary" %>
            </div>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</section>
