<header class="admin-header">
  <div>
    <h1 class="admin-title">시험지 상세</h1>
    <p class="admin-subtitle"><%= @form.title %></p>
  </div>
  <div class="admin-actions">
    <%= link_to "수정", edit_admin_form_path(@form), class: "admin-button" %>
    <%= link_to "목록", admin_forms_path, class: "admin-button" %>
  </div>
</header>

<section class="admin-card">
  <dl>
    <dt>상태</dt>
    <dd><%= @form.status %></dd>
    <dt>학년</dt>
    <dd><%= @form.grade_band.presence || "-" %></dd>
    <dt>시간</dt>
    <dd><%= @form.time_limit_minutes || "-" %> 분</dd>
  </dl>
</section>

<section class="admin-card">
  <h2>문항 구성</h2>
  <% if @form_items.any? %>
    <table class="admin-table">
      <thead>
        <tr>
          <th>순서</th>
          <th>문항코드</th>
          <th>유형</th>
          <th>문항</th>
          <th>배점</th>
        </tr>
      </thead>
      <tbody>
        <% @form_items.each do |form_item| %>
          <tr>
            <td><%= form_item.position %></td>
            <td><%= form_item.item.code %></td>
            <td><%= form_item.item.item_type %></td>
            <td><%= truncate(form_item.item.prompt, length: 80) %></td>
            <td><%= form_item.points %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  <% else %>
    <p class="admin-muted">연결된 문항이 없습니다.</p>
  <% end %>
</section>
