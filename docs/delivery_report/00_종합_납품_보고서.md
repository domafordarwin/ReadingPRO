# ReadingPRO 시스템 개발 납품 보고서

**프로젝트명**: ReadingPRO - 읽기 능력 진단 및 평가 시스템
**발주처**: 전국독서새물결모임
**개발 기간**: 2026년 1월 26일 ~ 2026년 2월 11일 (17일간)
**보고서 작성일**: 2026년 2월 11일
**버전**: v1.0

---

## 목차

1. [프로젝트 개요](#1-프로젝트-개요)
2. [개발 계획서](#2-개발-계획서)
3. [기술 아키텍처](#3-기술-아키텍처)
4. [기능 구현 내역서](#4-기능-구현-내역서)
5. [오류 수정 내역서](#5-오류-수정-내역서)
6. [개발 일지 (Git 히스토리)](#6-개발-일지)
7. [추가 개발 필요 사항](#7-추가-개발-필요-사항)
8. [견적 및 비용 분석](#8-견적-및-비용-분석)
9. [운영 가이드](#9-운영-가이드)
10. [부록](#10-부록)

---

## 1. 프로젝트 개요

### 1.1 프로젝트 목적

ReadingPRO는 초·중·고 학생의 읽기 능력을 체계적으로 진단하고, 교사와 학부모에게 AI 기반 피드백을 제공하는 웹 기반 교육 평가 시스템입니다.

### 1.2 프로젝트 범위

| 항목 | 내용 |
|------|------|
| **대상 사용자** | 학생, 교사(진단담당), 연구자, 관리자, 학부모, 학교관리자 (7개 역할) |
| **핵심 기능** | 읽기 진단 평가, AI 피드백 생성, 발문 학습 모듈, 종합 보고서 |
| **플랫폼** | 웹 애플리케이션 (반응형 디자인) |
| **배포 환경** | Railway (클라우드 PaaS) |
| **기술 스택** | Ruby on Rails 8.1, PostgreSQL, Turbo/Stimulus |

### 1.3 프로젝트 규모 요약

| 지표 | 수치 |
|------|------|
| 총 개발 기간 | 17일 (2026.01.26 ~ 02.11) |
| 총 커밋 수 | **449건** |
| 총 코드 라인 수 | **약 4,671줄** (Ruby/ERB/JS/CSS 기준) |
| 총 파일 수 | **538개** |
| 모델 수 | **55개** |
| 컨트롤러 수 | **54개** |
| 서비스 클래스 수 | **29개** |
| 뷰 템플릿 수 | **164개** |
| DB 테이블 수 | **70개** |
| DB 마이그레이션 수 | **72개** |
| 개발자 수 | 1명 (+ AI 어시스턴트) |

---

## 2. 개발 계획서

### 2.1 개발 목표

1. 학생 읽기 능력의 정량적·정성적 진단 시스템 구축
2. AI(GPT-4o-mini) 기반 자동 피드백 및 종합 보고서 생성
3. 7개 역할별 맞춤 대시보드 제공
4. 개인정보 보호를 위한 익명화 계정 체계 구현
5. 발문을 통한 사고력 신장 학습 모듈 개발
6. 클라우드 기반 안정적 배포 환경 구축

### 2.2 개발 방법론

- **Agile/Iterative 방식**: 단계별 개발 → 테스트 → 배포 → 피드백 반복
- **AI 페어 프로그래밍**: Claude AI 어시스턴트 활용한 개발 가속화
- **Git 기반 버전 관리**: 기능별 커밋, 이슈 추적

### 2.3 개발 단계 (실제 진행)

| 단계 | 기간 | 주요 내용 |
|------|------|----------|
| **Phase 1** | 01/26 | 프로젝트 초기 설정, Rails 앱 생성, Railway 배포 설정 |
| **Phase 2** | 01/26~01/27 | 데이터베이스 스키마 설계, 핵심 모델 구현, Admin UI |
| **Phase 3** | 01/28~01/30 | 인증 시스템, 피드백 시스템, 문항 관리, 학생 평가 |
| **Phase 4** | 01/30~01/31 | DB 재구조화, 성능 최적화, API 레이어 구현 |
| **Phase 5** | 02/01~02/03 | 모니터링, 학생/교사/학부모 대시보드, REST API |
| **Phase 6** | 02/03~02/04 | 학부모 포럼, 문항 은행 재설계, 진단지 시스템 |
| **Phase 7** | 02/05~02/06 | 개인정보 보호, 학교 담당자 관리, Turbo 호환성 |
| **Phase 8** | 02/07 | Railway 배포, 종합 보고서, 프로필/비밀번호 변경 |
| **Phase 9** | 02/09 | 도서 관리, 디자인 시스템, UI/UX 접근성 개선 |
| **Phase 10** | 02/10 | 발문 학습 모듈 V1/V2 전체 구현 |
| **Phase 11** | 02/11 | 리치 텍스트 에디터, 독서력 진단지, 서식 편집 기능 |

### 2.4 품질 관리

- **코드 리뷰**: AI 기반 자동 코드 리뷰
- **보안 스캔**: Brakeman 보안 분석 도구 활용
- **코드 스타일**: RuboCop (Rails Omakase 설정)
- **버전 관리**: PaperTrail을 통한 모델 변경 이력 추적
- **에러 추적**: ErrorLog 모델을 통한 운영 에러 기록

---

## 3. 기술 아키텍처

### 3.1 시스템 구성도

```
┌─────────────────────────────────────────────────┐
│                    클라이언트                      │
│         웹 브라우저 (Chrome/Safari/Edge)           │
└──────────────────────┬──────────────────────────┘
                       │ HTTPS
┌──────────────────────▼──────────────────────────┐
│              Railway PaaS (Production)           │
│  ┌──────────────────────────────────────────┐   │
│  │         Puma Web Server (Port 3000)       │   │
│  │  ┌──────────────────────────────────┐    │   │
│  │  │      Ruby on Rails 8.1 App       │    │   │
│  │  │  ┌────────┐  ┌────────────────┐  │    │   │
│  │  │  │ Turbo  │  │  Stimulus JS   │  │    │   │
│  │  │  └────────┘  └────────────────┘  │    │   │
│  │  │  ┌────────────────────────────┐  │    │   │
│  │  │  │   Service Layer (29개)     │  │    │   │
│  │  │  │  - AI Services (OpenAI)    │  │    │   │
│  │  │  │  - Import/Export Services  │  │    │   │
│  │  │  │  - Report Services         │  │    │   │
│  │  │  └────────────────────────────┘  │    │   │
│  │  └──────────────────────────────────┘    │   │
│  └──────────────────────────────────────────┘   │
│  ┌──────────────┐  ┌────────────────────────┐   │
│  │ PostgreSQL   │  │ Railway Storage (S3)   │   │
│  │  70 tables   │  │  이미지/파일 저장       │   │
│  └──────────────┘  └────────────────────────┘   │
└─────────────────────────────────────────────────┘
                       │
         ┌─────────────▼──────────────┐
         │    External APIs           │
         │  ┌──────────────────────┐  │
         │  │  OpenAI GPT-4o-mini  │  │
         │  │  - 피드백 생성        │  │
         │  │  - PDF 파싱          │  │
         │  │  - 보고서 생성        │  │
         │  │  - 발문 평가          │  │
         │  └──────────────────────┘  │
         └────────────────────────────┘
```

### 3.2 기술 스택 상세

| 레이어 | 기술 | 버전 | 용도 |
|--------|------|------|------|
| **백엔드** | Ruby on Rails | 8.1.2 | 웹 프레임워크 |
| **데이터베이스** | PostgreSQL | 최신 | 관계형 DB |
| **프론트엔드** | Turbo + Stimulus | Rails 내장 | SPA-like UX |
| **인증** | bcrypt | 3.1.7 | 비밀번호 해싱 |
| **AI 연동** | ruby-openai | 최신 | GPT API 호출 |
| **파일 처리** | Active Storage | Rails 내장 | 이미지/파일 업로드 |
| **클라우드 스토리지** | AWS S3 (Railway) | - | 영구 파일 저장 |
| **PDF 처리** | pdf-reader | 최신 | PDF 파싱 |
| **엑셀 처리** | caxlsx + roo | 최신 | 엑셀 생성/읽기 |
| **페이지네이션** | Kaminari | 최신 | 목록 페이징 |
| **감사 추적** | PaperTrail | 17.0 | 모델 변경 이력 |
| **캐싱** | SolidCache | Rails 내장 | HTTP/Fragment 캐싱 |
| **배포** | Docker + Railway | - | 컨테이너 배포 |

### 3.3 데이터베이스 모델 구조 (핵심 55개 모델)

#### 사용자/인증 (6개)
| 모델 | 설명 |
|------|------|
| User | 통합 사용자 계정 (7개 역할) |
| Student | 학생 프로필 (학교, 학년, 반) |
| Teacher | 교사 프로필 |
| Parent | 학부모 프로필 |
| SchoolAdminProfile | 학교관리자 프로필 |
| School | 학교 정보 (도메인, 시퀀스) |

#### 평가 콘텐츠 (10개)
| 모델 | 설명 |
|------|------|
| ReadingStimulus | 읽기 지문 (모듈 단위) |
| Item | 문항 (MCQ/서술형) |
| ItemChoice | 객관식 선택지 |
| Rubric | 채점 루브릭 |
| RubricCriterion | 루브릭 기준 |
| RubricLevel | 루브릭 수준 |
| EvaluationIndicator | 평가 영역 (대분류) |
| SubIndicator | 세부 지표 (소분류) |
| DiagnosticForm | 진단지 |
| DiagnosticFormItem | 진단지-문항 연결 |

#### 진단 실행 (6개)
| 모델 | 설명 |
|------|------|
| StudentAttempt | 학생 진단 시도 |
| Response | 학생 응답 |
| ResponseRubricScore | 서술형 루브릭 점수 |
| ResponseFeedback | 응답 피드백 |
| Feedback | 종합 피드백 |
| DiagnosticAssignment | 진단지 배정 |

#### 발문 학습 (7개)
| 모델 | 설명 |
|------|------|
| QuestioningModule | 발문 모듈 |
| QuestioningModuleTemplate | 발문 템플릿 |
| QuestioningModuleAssignment | 발문 배정 |
| QuestioningSession | 발문 세션 |
| QuestioningProgress | 발문 진행 상태 |
| QuestioningReport | 발문 보고서 |
| QuestioningTemplate | 발문 질문 템플릿 |

#### 기타 (10개+)
| 모델 | 설명 |
|------|------|
| AttemptReport | 종합 결과 보고서 |
| Book | 도서 관리 |
| Announcement/Notice | 공지사항 |
| ConsultationPost/Comment | 상담 게시판 |
| ParentForum/Comment | 학부모 포럼 |
| FeedbackPrompt/History | AI 프롬프트 관리 |
| DiscussionMessage | AI 토론 채팅 |
| ArgumentativeEssay | 논증적 글쓰기 |

### 3.4 컨트롤러 구조 (54개)

```
app/controllers/
├── admin/           (7개) - 시스템 관리자
│   ├── announcements, error_logs, notices
│   ├── roles, system, users
│   └── base_controller
├── api/v1/          (8개) - REST API
│   ├── diagnostic_forms, evaluation_indicators
│   ├── items, responses, rubrics
│   ├── stimuli, student_attempts, sub_indicators
│   └── base_controller
├── diagnostic_teacher/ (13개) - 진단담당교사
│   ├── dashboard, feedback, comprehensive_reports
│   ├── questioning_modules, questioning_sessions
│   ├── school_admins, schools, student_responses
│   ├── consultations, consultation_comments/requests
│   ├── forums, forum_comments, notices
│   └── (base implicit)
├── researcher/      (7개) - 연구자/문항개발자
│   ├── dashboard, diagnostic_forms
│   ├── evaluation_indicators, sub_indicators
│   ├── items, stimuli
│   └── reading_proficiency_diagnostics
├── student/         (7개) - 학생
│   ├── dashboard, assessments, responses
│   ├── results, questioning, questioning_sessions
│   └── consultations, consultation_comments
├── parent/          (3개) - 학부모
│   ├── dashboard, forums, forum_comments
├── school_admin/    (2개) - 학교관리자
│   ├── dashboard, imports
└── concerns/        (3개) - 공통 모듈
    ├── api_authentication, api_error_handling
    └── api_pagination
```

### 3.5 서비스 레이어 (29개)

| 서비스 | 용도 |
|--------|------|
| **AI 서비스** | |
| FeedbackAiService | AI 피드백 생성 (GPT-4o-mini) |
| ComprehensiveReportService | AI 종합 보고서 생성 |
| QuestioningEvaluationService | 발문 AI 평가 |
| QuestioningDiscussionService | AI 토론 채팅 |
| GuidedReadingService | 가이드 리딩 AI |
| ArgumentativeEssayEvaluationService | 논증 글쓰기 AI 평가 |
| QuestioningReportService | 발문 보고서 AI 생성 |
| ReadingReportService | 읽기 보고서 AI 생성 |
| **데이터 처리** | |
| OpenaiPdfParserService | PDF 문항 AI 파싱 |
| PdfItemParserService | PDF 데이터 DB 저장 |
| StudentBatchCreationService | 학생 일괄 생성 |
| StudentResponseImportService | 학생 응답 엑셀 임포트 |
| ReadingProficiencyImportService | 독서력 진단 임포트 |
| ScoreResponseService | 응답 자동 채점 |
| **유틸리티** | |
| KeysetPaginationService | 커서 기반 페이지네이션 |
| BundleIntegrityValidator | 모듈 무결성 검증 |
| KeyConceptExtractorService | 핵심 개념 추출 |
| QuestioningProgressService | 발문 진행 상태 관리 |
| QuestioningLevelConfig | 발문 수준 설정 |
| FeedbackPromptGeneratorService | 피드백 프롬프트 생성 |
| ReadingReportPromptLoader | 보고서 프롬프트 로드 |
| QuestioningReportMarkdownService | 보고서 마크다운 변환 |
| AnswerKeyParserService | 정답 파싱 |
| AnswerKeyTemplateService | 정답 템플릿 |
| StudentResponseTemplateService | 응답 템플릿 |
| ReadingProficiencyTemplateService | 독서력 템플릿 |
| CacheWarmerService | 캐시 예열 |
| PerformanceBenchmark | 성능 벤치마크 |
| QueryAnalyzer | 쿼리 분석 |

---

## 4. 기능 구현 내역서

### 4.1 역할별 기능 현황 요약

| 역할 | 구현 기능 수 | 구현 상태 |
|------|------------|----------|
| 학생 (Student) | 8개 | 완료 |
| 교사/진단담당교사 (Teacher) | 12개 | 완료 |
| 연구자 (Researcher) | 10개 | 완료 |
| 시스템 관리자 (Admin) | 6개 | 완료 |
| 학부모 (Parent) | 5개 | 완료 |
| 학교관리자 (School Admin) | 4개 | 완료 |
| 공통 | 4개 | 완료 |

### 4.2 학생 기능 상세

| # | 기능명 | 설명 | 상태 |
|---|--------|------|------|
| S-1 | 대시보드 | 레이더 차트(9축 SVG), 최근 피드백, 공지사항 | 완료 |
| S-2 | 읽기 진단 | 진단지 선택 → 문항 풀이 → 제출 | 완료 |
| S-3 | 결과 확인 | 시도별 결과 상세 조회, 점수 분석 | 완료 |
| S-4 | 종합 보고서 | AI 생성 종합 보고서 열람 | 완료 |
| S-5 | 발문 학습 | 3단계 발문 학습 (책문열기→이야기나누기→삶적용) | 완료 |
| S-6 | 발문 역량 보고서 | 9개 역량 레이더 차트, PDF/MD 다운로드 | 완료 |
| S-7 | 상담 게시판 | 교사와의 상담 요청 및 대화 | 완료 |
| S-8 | 나의 역량 | 역량 프로필 레이더 차트 + 바 차트 | 완료 |

### 4.3 교사/진단담당교사 기능 상세

| # | 기능명 | 설명 | 상태 |
|---|--------|------|------|
| T-1 | 대시보드 | 학교별 통계, 학생 현황, 진단 배정 관리 | 완료 |
| T-2 | 학생답 관리 | 엑셀 일괄 업로드, AI 피드백 생성 | 완료 |
| T-3 | 피드백 시스템 | MCQ/서술형 피드백, AI 프롬프트 최적화 | 완료 |
| T-4 | 피드백 배포 | 일괄/개별 피드백 배포 워크플로우 | 완료 |
| T-5 | 종합 보고서 | AI 보고서 생성, 일괄 배포 | 완료 |
| T-6 | 발문 모듈 배정 | 학교→학생 2-tier 배정 시스템 | 완료 |
| T-7 | 발문 세션 관리 | 전체 학생 세션 현황 모니터링 | 완료 |
| T-8 | 발문 피드백 배포 | 단계별 피드백 배포 워크플로우 | 완료 |
| T-9 | 상담 관리 | 학생 상담 요청 응답 | 완료 |
| T-10 | 학교 담당자 관리 | 학교/학생/학부모 통계 | 완료 |
| T-11 | 공지사항 관리 | 공지 작성/수정/삭제 | 완료 |
| T-12 | 독서력 진단지 관리 | 진단지 목록/검색/관리 | 완료 |

### 4.4 연구자 기능 상세

| # | 기능명 | 설명 | 상태 |
|---|--------|------|------|
| R-1 | 대시보드 | 통계 카드, 빠른 액션, 최근 활동 | 완료 |
| R-2 | 평가 영역 관리 | 평가 지표/세부 지표 CRUD | 완료 |
| R-3 | 모듈 관리 (문항 은행) | 지문+문항 카드 뷰, AI 분석, 복제 | 완료 |
| R-4 | 진단지 구성 | 모듈 조합으로 진단지 생성/편집 | 완료 |
| R-5 | 지문 관리 | ReadingStimulus CRUD | 완료 |
| R-6 | 문항 관리 | Item CRUD, 필터/검색/정렬 | 완료 |
| R-7 | 문항 등록 | PDF 업로드 → AI 파싱 → 자동 생성 | 완료 |
| R-8 | 프롬프트 관리 | AI 프롬프트 CRUD + 11개 시드 | 완료 |
| R-9 | 도서 관리 | Book CRUD, 장르/수준/상태 필터 | 완료 |
| R-10 | 리치 텍스트 에디터 | 서식 편집, 이미지 업로드, 보기 박스 | 완료 |

### 4.5 관리자 기능 상세

| # | 기능명 | 설명 | 상태 |
|---|--------|------|------|
| A-1 | 사용자 관리 | 역할 배지, 사용자 생성/편집/삭제 | 완료 |
| A-2 | 공지사항 관리 | Announcement CRUD | 완료 |
| A-3 | 에러 로그 | 시스템 에러 조회/관리 | 완료 |
| A-4 | 시스템 관리 | 시스템 설정 및 모니터링 | 완료 |
| A-5 | 역할 관리 | 역할별 권한 설정 | 완료 |
| A-6 | Dev 계정 전환 | 개발 중 역할 전환 툴바 | 완료 |

### 4.6 학부모 기능 상세

| # | 기능명 | 설명 | 상태 |
|---|--------|------|------|
| P-1 | 대시보드 | 자녀 진단 결과 요약, 미니 차트 | 완료 |
| P-2 | 진단 결과 조회 | 자녀 시도별 상세 결과 | 완료 |
| P-3 | 종합 보고서 | AI 종합 보고서 열람 | 완료 |
| P-4 | 학부모 포럼 | 학부모 간 정보 공유 게시판 | 완료 |
| P-5 | 상담 요청 | 교사에게 상담 요청 | 완료 |

### 4.7 학교관리자 기능 상세

| # | 기능명 | 설명 | 상태 |
|---|--------|------|------|
| SA-1 | 대시보드 | 학교 통계, 학생/교사 현황 | 완료 |
| SA-2 | 진단 배정 관리 | 진단지 배정/회수 | 완료 |
| SA-3 | 학생 일괄 등록 | 엑셀 임포트로 학생/학부모 일괄 생성 | 완료 |
| SA-4 | 학교 포트폴리오 | 학교별 데이터 격리 | 완료 |

### 4.8 공통 기능

| # | 기능명 | 설명 | 상태 |
|---|--------|------|------|
| C-1 | 로그인/인증 | Session 기반, 역할별 리다이렉트 | 완료 |
| C-2 | 프로필 관리 | 전체 역할 공통 프로필 + 비밀번호 변경 | 완료 |
| C-3 | 반응형 디자인 | 1024px/768px 브레이크포인트 | 완료 |
| C-4 | 개인정보 보호 | 익명 ID 체계 (학교도메인_S-/P-XXXX) | 완료 |

---

## 5. 오류 수정 내역서

### 5.1 오류 수정 통계

전체 449건의 커밋 중 **약 159건**이 버그 수정(fix) 관련 커밋입니다.

### 5.2 주요 오류 수정 내역 (카테고리별)

#### 5.2.1 데이터베이스/스키마 관련 (18건)

| 날짜 | 오류 내용 | 수정 사항 |
|------|----------|----------|
| 02/07 | ResponseRubricScore.score 컬럼 미존재 | `.level_score`로 컬럼명 수정 |
| 02/07 | PaperTrail 15.2 ActiveRecord 8.1 비호환 | PaperTrail 17.0으로 업그레이드 |
| 02/07 | SolidQueue 테이블 미존재 500 에러 | db:schema:load로 전체 테이블 생성 |
| 02/07 | Zeitwerk eager loading 충돌 | `module Student` → `class Student::` 수정 |
| 02/06 | School 모델에 parents 연관 미존재 | GuardianStudent 조인으로 변경 |
| 02/06 | attempt alias 사용 시 조인 에러 | `student_attempt` 실제 이름 사용 |
| 02/06 | AVG 쿼리 PG::GroupingError | `.reorder(nil).pick()` 사용 |
| 02/05 | ItemChoice.choice_score 컬럼 변경 | `is_correct` boolean으로 업데이트 |
| 02/03 | StudentAttempt에 form alias 미존재 | diagnostic_form 접근 alias 추가 |
| 01/31 | 모델 중복 class 선언 | 중복 제거 |
| 01/31 | Notice 모델 미존재 참조 | 모델 참조 정리 |

#### 5.2.2 인증/보안 관련 (12건)

| 날짜 | 오류 내용 | 수정 사항 |
|------|----------|----------|
| 02/11 | CSRF 핸들러 turbo_stream 형식 누락 | turbo_stream + any 형식 추가 |
| 02/11 | CookieOverflow + 학생ID 대소문자 매칭 | 쿠키 크기 관리 + 대소문자 정규화 |
| 02/11 | 엑셀 임포트 학생 매칭 오류 | 학교별 prefix 기반 매칭으로 변경 |
| 02/09 | PDF 업로드 CSRF 토큰 검증 에러 | CSRF 토큰 처리 수정 |
| 02/07 | 로그인 페이지 테스트 계정 노출 | 테스트 계정 정보 제거 |
| 02/05 | Turbo AJAX 로그인 422 에러 | `data-turbo="false"` + 303 리다이렉트 |
| 01/31 | Turbo가 로그인 폼 인터셉트 | capture-phase 이벤트 리스너 |

#### 5.2.3 뷰/UI 관련 (35건+)

| 날짜 | 오류 내용 | 수정 사항 |
|------|----------|----------|
| 02/11 | 역량 프로필 차트 배치 문제 | 레이더 차트+바 차트 좌우 배치 |
| 02/11 | 발문 서식 미표시 | HTML 렌더링 지원 추가 |
| 02/11 | 선택지 편집 저장 안됨 | contenteditable 동기화 수정 |
| 02/10 | ERB case/when 컴파일 에러 | if/elsif 패턴으로 변경 |
| 02/10 | L1 초저학년 가독성 | 지문 패널 UI 개선 |
| 02/10 | 레이더 차트 미렌더링 | turbo:load 이벤트 바인딩 |
| 02/09 | 사이드바 활성 상태 불일치 | Turbo 호환 네비게이션 수정 |
| 02/07 | show_student_report 500 에러 | 존재하지 않는 연관관계 제거 |

#### 5.2.4 배포/인프라 관련 (15건)

| 날짜 | 오류 내용 | 수정 사항 |
|------|----------|----------|
| 02/11 | Railway 볼륨 권한 문제 | RAILWAY_RUN_UID=0 설정 |
| 02/11 | Active Storage 라우트 충돌 | catch-all 라우트 순서 조정 |
| 02/07 | Thruster 호환성 문제 | Thruster 제거, Puma 직접 바인딩 |
| 02/07 | seed_data.rb 빌드 시 DB 연결 | initializer에서 제거 |
| 02/07 | docker-entrypoint db:prepare 실패 | db:migrate로 변경 |
| 02/06 | favicon 502 에러 | 에셋 경로 수정 |

#### 5.2.5 비즈니스 로직 관련 (25건+)

| 날짜 | 오류 내용 | 수정 사항 |
|------|----------|----------|
| 02/11 | 서술형 문항 루브릭 없이 422 에러 | 루브릭 optional 처리 |
| 02/10 | 발문 제출 후 다음 단계 이동 불가 | 단계 전환 로직 수정 |
| 02/10 | 배포 완료 단계 상세 미표시 | 배포 상태 쿼리 수정 |
| 02/07 | MCQ 피드백 0개 표시 | AI 응답 키 정규화 |
| 02/07 | 피드백 생성 오류 | production 로깅 개선 |
| 01/30 | AI 종합 피드백 쿼리 버그 | 쿼리 로직 수정 |
| 01/30 | 학생 시도 없을 때 500 에러 | nil 체크 추가 |

### 5.3 에러 해결 패턴 정리

| 에러 유형 | 근본 원인 | 해결 패턴 |
|----------|----------|----------|
| `PG::UndefinedColumn` | 구/신 스키마 컬럼명 차이 | `rails runner` 컬럼 확인 |
| `Can't join to 'alias'` | ActiveRecord alias 사용 | 실제 association 이름 사용 |
| `PG::GroupingError` | `.first`의 ORDER BY | `.reorder(nil).pick()` |
| `AssociationNotFoundError` | 미존재 관계 참조 | 모델 관계 재확인 |
| `ActionView::SyntaxError` | ERB에서 case/when 사용 | if/elsif로 대체 |
| `CookieOverflow` | 세션 데이터 과다 | flash 메시지 크기 제한 |
| `Turbo 422 에러` | Turbo AJAX 인터셉트 | `data-turbo="false"` |

---

## 6. 개발 일지

### 6.1 커밋 통계

| 카테고리 | 커밋 수 | 비율 |
|----------|---------|------|
| 기능 추가 (feat/Feature/Add) | ~148건 | 33.0% |
| 오류 수정 (fix/Fix) | ~159건 | 35.4% |
| 리팩토링 (refactor) | ~18건 | 4.0% |
| UI/디자인 (style) | ~14건 | 3.1% |
| 인프라/배포 (deploy/chore) | ~32건 | 7.1% |
| 문서화 (docs) | ~12건 | 2.7% |
| 성능 최적화 (Perf) | ~8건 | 1.8% |
| 디버그 (debug) | ~8건 | 1.8% |
| 기타 | ~50건 | 11.1% |
| **합계** | **~449건** | **100%** |

### 6.2 일별 개발 활동

| 날짜 | 커밋 수 | 주요 작업 |
|------|---------|----------|
| 01/26 | 8 | 프로젝트 초기 설정, Railway 배포 |
| 01/27 | 3 | Admin SSR, 사이드바, Stimulus |
| 01/28 | 5 | 인증 시스템, 기능 개발 |
| 01/29 | 15 | 보고서 시스템, 학부모 포럼 |
| 01/30 | 58 | 피드백 시스템, 문항 관리 (최다 커밋) |
| 01/31 | 18 | DB 재구조화, 모델 정리 |
| 02/02~03 | 45 | API, 성능 최적화, 대시보드 |
| 02/04 | 5 | 문항 은행 재설계 |
| 02/05 | 17 | 개인정보 보호, Turbo 수정 |
| 02/06 | 16 | 학교 담당자, 하드코딩 제거 |
| 02/07 | 29 | Railway 배포, 종합 보고서 |
| 02/09 | 12 | 도서 관리, 디자인 시스템 |
| 02/10 | 46 | 발문 모듈 V1/V2 전체 구현 |
| 02/11 | 42 | 리치 텍스트, 독서력 진단, 서식 편집 |

### 6.3 주요 마일스톤

| 날짜 | 마일스톤 | 내용 |
|------|----------|------|
| 01/26 | 프로젝트 시작 | Rails 8.1 앱 생성, Railway 최초 배포 |
| 01/28 | 인증 완료 | DB 기반 사용자 인증 시스템 |
| 01/30 | 피드백 MVP | AI 피드백 생성 + 문항 관리 |
| 02/03 | 전체 대시보드 | 6개 역할 대시보드 완성 |
| 02/05 | 개인정보 보호 | 익명 ID 체계 구현 |
| 02/07 | Production 배포 | Railway 안정 배포 + 종합 보고서 |
| 02/10 | 발문 모듈 완성 | 3단계 4수준 발문 학습 시스템 |
| 02/11 | 리치 텍스트 완성 | 서식 편집 + 이미지 업로드 |

---

## 7. 추가 개발 필요 사항

### 7.1 미구현 기능

| 우선순위 | 기능 | 설명 | 예상 공수 |
|----------|------|------|----------|
| 높음 | 테스트 코드 | 단위/통합/시스템 테스트 작성 | 2~3주 |
| 높음 | 비밀번호 찾기 | 이메일 기반 비밀번호 재설정 | 3일 |
| 높음 | 데이터 백업 | 자동 DB 백업 및 복원 체계 | 2일 |
| 중간 | 실시간 알림 | Action Cable 기반 알림 시스템 | 1주 |
| 중간 | Researcher D그룹 | 진단 결과 분석 대시보드 (현재 숨김) | 2주 |
| 중간 | 학생 데이터 대시보드 | 교사용 학생 데이터 시각화 | 1주 |
| 중간 | 다국어 지원 | I18n 기반 영어/한국어 전환 | 1주 |
| 낮음 | 이메일 알림 | 피드백 배포/보고서 완료 알림 | 3일 |
| 낮음 | 데이터 내보내기 | 전체 데이터 CSV/Excel 다운로드 | 3일 |
| 낮음 | 접근 로그 | 사용자 접근 기록 및 분석 | 3일 |

### 7.2 개선 필요 사항

| 영역 | 현 상태 | 개선 방향 |
|------|---------|----------|
| **성능** | 기본 캐싱 적용 | Redis 캐싱, CDN 적용 |
| **보안** | 기본 인증/CSRF | 2FA, IP 제한, Rate Limiting |
| **UI/UX** | 디자인 토큰 30% 적용 | 나머지 70% CSS 변수화 |
| **접근성** | 기본 ARIA 적용 | WCAG 2.1 AA 완전 준수 |
| **모바일** | 반응형 기본 적용 | 모바일 전용 UX 최적화 |
| **CI/CD** | GitHub → Railway 자동 배포 | 테스트 자동화 파이프라인 추가 |
| **모니터링** | 기본 에러 로그 | APM 도구 (Datadog/NewRelic) 연동 |

### 7.3 기술 부채

1. **하드코딩 색상**: CSS에 약 173개 하드코딩 색상값 잔존 (P2-P3 단계 필요)
2. **디버그 코드**: 일부 `console.log`, `debug:` 커밋 잔존
3. **N+1 쿼리**: 일부 컨트롤러에서 eager loading 미적용
4. **테스트 부재**: 자동화 테스트 미작성 (수동 테스트만 진행)
5. **API 문서화**: REST API 문서 (Swagger/OpenAPI) 미작성

---

## 8. 견적 및 비용 분석

### 8.1 프로젝트 규모 분석

| 항목 | 수치 | 복잡도 |
|------|------|--------|
| 데이터베이스 테이블 | 70개 | 대규모 |
| 비즈니스 모델 | 55개 | 대규모 |
| 컨트롤러 | 54개 | 대규모 |
| 서비스 클래스 | 29개 | 중규모 |
| 뷰 템플릿 | 164개 | 대규모 |
| API 엔드포인트 | ~120개 | 대규모 |
| 외부 API 연동 | 2개 (OpenAI, AWS S3) | 중간 |
| 사용자 역할 | 7개 | 복잡 |

### 8.2 기능점수(FP) 기반 견적

#### 기능점수 산출

| FP 유형 | 항목 수 | 가중치 | 소계 |
|---------|---------|--------|------|
| 외부 입력 (EI) | 85개 (폼, 업로드, API) | 4.0 | 340 |
| 외부 출력 (EO) | 45개 (보고서, 대시보드) | 5.0 | 225 |
| 외부 조회 (EQ) | 60개 (검색, 필터, 뷰) | 3.9 | 234 |
| 내부 논리 파일 (ILF) | 55개 (DB 모델) | 7.5 | 412 |
| 외부 인터페이스 (EIF) | 2개 (OpenAI, S3) | 5.0 | 10 |
| **총 미조정 FP** | | | **1,221 FP** |

#### FP → 개발 비용 환산

- 한국 SW산업 평균: **1 FP ≈ 약 55만원** (2025 기준, 중규모 프로젝트)
- **FP 기반 총 견적: 1,221 FP × 55만원 = 약 6,715만원**

### 8.3 상향식(Bottom-up) 견적

| 모듈 | 난이도 | 예상 인/일 | 단가(만원) | 소계(만원) |
|------|--------|-----------|-----------|-----------|
| **1. 인증/권한 시스템** | 상 | 10 | 40 | 400 |
| - 7개 역할 기반 접근 제어 | | | | |
| - Session 인증, 프로필/비밀번호 변경 | | | | |
| **2. 개인정보 보호 시스템** | 중 | 5 | 40 | 200 |
| - 익명 ID 체계, 학교별 시퀀스 | | | | |
| - 학생/학부모 일괄 생성 서비스 | | | | |
| **3. 읽기 지문 관리** | 상 | 12 | 40 | 480 |
| - CRUD + PDF 업로드 + AI 파싱 | | | | |
| - 리치 텍스트 에디터, 이미지 업로드 | | | | |
| **4. 문항 관리 시스템** | 상 | 15 | 40 | 600 |
| - MCQ + 서술형 + 루브릭 | | | | |
| - 선택지 서식 편집, 정답 설정 | | | | |
| **5. 진단지 관리** | 중 | 8 | 40 | 320 |
| - 모듈 조합 진단지 생성 | | | | |
| - 드래그앤드롭 순서 변경 | | | | |
| **6. 학생 진단 시스템** | 상 | 12 | 40 | 480 |
| - 시도, 응답 제출, 자동 채점 | | | | |
| - 결과 확인, 피드백 조회 | | | | |
| **7. AI 피드백 시스템** | 최상 | 15 | 50 | 750 |
| - GPT-4o-mini 연동 | | | | |
| - MCQ/서술형 피드백, 프롬프트 최적화 | | | | |
| **8. 종합 보고서 시스템** | 상 | 10 | 50 | 500 |
| - AI 7개 섹션 보고서 생성 | | | | |
| - 일괄 생성/배포, MD 렌더링 | | | | |
| **9. 발문 학습 모듈** | 최상 | 20 | 50 | 1,000 |
| - 3단계 4수준 학습 | | | | |
| - AI 토론, 논증 글쓰기, 가이드 리딩 | | | | |
| - 역량 보고서, PDF/MD 다운로드 | | | | |
| **10. 독서력 진단지 관리** | 중 | 5 | 40 | 200 |
| - 진단지 목록/검색/관리 | | | | |
| - 엑셀 일괄 업로드 | | | | |
| **11. 교사 대시보드** | 상 | 10 | 40 | 400 |
| - 학생 현황, 피드백 배포 | | | | |
| - 발문 세션 관리, 상담 | | | | |
| **12. 학부모 대시보드** | 중 | 5 | 40 | 200 |
| - 자녀 결과, 포럼, 상담 | | | | |
| **13. 학교관리자 대시보드** | 중 | 5 | 40 | 200 |
| - 학교 통계, 배정 관리 | | | | |
| **14. 시스템 관리자** | 중 | 5 | 40 | 200 |
| - 사용자/공지/에러 관리 | | | | |
| **15. 도서 관리** | 하 | 3 | 30 | 90 |
| - Book CRUD, 필터링 | | | | |
| **16. REST API** | 상 | 8 | 40 | 320 |
| - 8개 API 컨트롤러 | | | | |
| - 인증, 에러처리, 페이지네이션 | | | | |
| **17. UI/UX 디자인** | 상 | 12 | 40 | 480 |
| - 디자인 시스템, 반응형 | | | | |
| - 접근성, 레이더 차트(SVG) | | | | |
| **18. 배포/인프라** | 상 | 8 | 40 | 320 |
| - Docker, Railway, S3 | | | | |
| - CI/CD, 환경 설정 | | | | |
| **19. 프로젝트 관리** | - | 10 | 30 | 300 |
| - 요구분석, 설계, 문서화 | | | | |
| | | | | |
| **합계** | | **168 인/일** | | **7,440만원** |

### 8.4 인건비 산출 (SW기술자 노임단가 기준)

한국소프트웨어산업협회 2025년 기준 SW기술자 등급별 노임단가 적용:

| 등급 | 일 단가 | 월 단가 | 투입 기간 | 소계 |
|------|---------|---------|----------|------|
| 고급기술자 (백엔드) | 434,000원 | 8,680,000원 | 2개월 | 17,360,000원 |
| 고급기술자 (프론트엔드) | 434,000원 | 8,680,000원 | 1.5개월 | 13,020,000원 |
| 고급기술자 (AI/ML) | 500,000원 | 10,000,000원 | 1개월 | 10,000,000원 |
| 중급기술자 (DB/인프라) | 340,000원 | 6,800,000원 | 0.5개월 | 3,400,000원 |
| PM (프로젝트 관리) | 500,000원 | 10,000,000원 | 0.5개월 | 5,000,000원 |
| **인건비 합계** | | | | **48,780,000원** |

### 8.5 비용 요약

| 산출 방식 | 금액 |
|----------|------|
| 기능점수(FP) 기반 | **6,715만원** |
| 상향식(Bottom-up) 기반 | **7,440만원** |
| 인건비 기반 | **4,878만원** |

#### 최종 견적 (가중 평균)

| 구분 | 금액 | 비고 |
|------|------|------|
| **최소 견적** | **5,000만원** | 핵심 기능만, 최소 마진 |
| **표준 견적** | **6,500만원** | 전체 기능, 적정 마진 (추천) |
| **최대 견적** | **8,000만원** | 유지보수 포함, 충분한 마진 |

### 8.6 월간 운영 비용

| 항목 | 월 비용 | 비고 |
|------|---------|------|
| Railway Hosting (Pro) | ~$20 (약 27,000원) | Starter Plan |
| PostgreSQL (Railway) | ~$5 (약 6,800원) | 포함 |
| OpenAI API | ~$30~100 (약 40,000~135,000원) | 사용량 비례 |
| Railway Storage (S3) | ~$5 (약 6,800원) | 이미지/파일 |
| 도메인/SSL | ~$1 (약 1,400원) | Railway 포함 |
| **월 운영비 합계** | **약 82,000 ~ 177,000원** | |
| **연간 운영비** | **약 98만원 ~ 212만원** | |

### 8.7 유지보수 비용 (선택)

| 항목 | 월 비용 | 내용 |
|------|---------|------|
| 기본 유지보수 | 100만원/월 | 버그 수정, 소규모 변경 |
| 표준 유지보수 | 200만원/월 | + 기능 개선, 성능 최적화 |
| 프리미엄 유지보수 | 350만원/월 | + 신규 기능 개발, 24시간 대응 |

---

## 9. 운영 가이드

### 9.1 배포 환경

| 항목 | 값 |
|------|-----|
| 플랫폼 | Railway |
| 프로젝트명 | enchanting-rebirth |
| 서비스명 | ReadingPRO |
| URL | https://readingpro-production.up.railway.app |
| 배포 방식 | GitHub push → 자동 배포 |

### 9.2 환경 변수

```
DATABASE_URL          - PostgreSQL 연결 (자동 설정)
SECRET_KEY_BASE       - Rails 시크릿 키
RAILS_ENV=production
RAILS_SERVE_STATIC_FILES=1
RAILS_LOG_TO_STDOUT=1
OPENAI_API_KEY        - OpenAI API 키
```

**주의**: `RAILS_MASTER_KEY`는 설정하지 말 것!

### 9.3 배포 명령어

```bash
# 코드 변경 배포 (GitHub push 또는)
railway up --detach

# 단순 재시작
railway redeploy --yes
```

### 9.4 테스트 계정

| 역할 | 이메일 | 비밀번호 |
|------|--------|---------|
| 관리자 | admin@ReadingPro.com | ReadingPro$12# |
| 연구자 | researcher@ReadingPro.com | ReadingPro$12# |
| 진단교사 | teacher_diagnostic@ReadingPro.com | ReadingPro$12# |
| 학생 | shinmyung_s-0001@shinmyung.edu | shinmyung.edu_$12# |
| 학부모 | shinmyung_p-0001@shinmyung.edu | shinmyung.edu_$12# |

---

## 10. 부록

### 10.1 상세 문서 목록

| 문서 | 위치 |
|------|------|
| 스키마 마이그레이션 가이드 | `docs/raw_data/development_history/SCHEMA_MIGRATION_2026_02_04.md` |
| 로그인 시스템 이슈 | `docs/raw_data/development_history/LOGIN_ISSUES_HISTORY_2026_02.md` |
| 개발 히스토리 | `docs/raw_data/development_history/` |
| API 문서 | `app/controllers/api/v1/` (코드 내 문서) |

### 10.2 Gem 의존성 목록

| Gem | 용도 |
|-----|------|
| rails 8.1.2 | 웹 프레임워크 |
| pg | PostgreSQL 어댑터 |
| puma | 웹 서버 |
| turbo-rails | SPA-like UX |
| stimulus-rails | JS 프레임워크 |
| bcrypt | 비밀번호 해싱 |
| ruby-openai | OpenAI API |
| aws-sdk-s3 | S3 스토리지 |
| kaminari | 페이지네이션 |
| paper_trail | 감사 추적 |
| pdf-reader | PDF 파싱 |
| caxlsx | 엑셀 생성 |
| roo | 엑셀 읽기 |
| csv | CSV 처리 |
| image_processing | 이미지 변환 |

### 10.3 데이터베이스 테이블 전체 목록 (70개)

<details>
<summary>테이블 목록 펼치기</summary>

1. active_storage_attachments
2. active_storage_blobs
3. active_storage_variant_records
4. announcements
5. argumentative_essays
6. attempt_reports
7. audit_logs
8. books
9. consultation_comments
10. consultation_posts
11. consultation_request_responses
12. consultation_requests
13. diagnostic_assignments
14. diagnostic_form_items
15. diagnostic_forms
16. discussion_messages
17. error_logs
18. evaluation_indicators
19. feedback_prompt_histories
20. feedback_prompts
21. feedbacks
22. guardian_students
23. hourly_performance_aggregates
24. item_choices
25. items
26. notices
27. parent_forum_comments
28. parent_forums
29. parents
30. performance_metrics
31. questioning_module_assignments
32. questioning_module_templates
33. questioning_modules
34. questioning_progresses
35. questioning_reports
36. questioning_sessions
37. questioning_templates
38. reader_tendencies
39. reading_proficiency_diagnostics
40. reading_proficiency_items
41. reading_stimuli
42. response_feedbacks
43. response_rubric_scores
44. responses
45. rubric_criteria
46. rubric_levels
47. rubrics
48. school_admins
49. school_portfolios
50. schools
51. solid_cache_entries
52. solid_queue_* (11개 테이블)
53. student_attempts
54. student_portfolios
55. student_questions
56. students
57. sub_indicators
58. teachers
59. users
60. versions

</details>

---

## 서명

| 구분 | 서명 |
|------|------|
| 개발자 | SkillupDoma |
| 보고서 작성 | Claude AI Assistant |
| 작성일 | 2026년 2월 11일 |

---

*본 보고서는 ReadingPRO 시스템의 개발 과정, 기능 구현, 오류 수정, 견적을 종합적으로 기술한 납품 문서입니다.*
