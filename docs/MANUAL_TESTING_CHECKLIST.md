# 📋 수동 점검 체크리스트

**테스트 날짜**: _____________
**테스트 환경**: Windows 로컬 (Rails 8.1 + PostgreSQL)
**테스터**: _____________

---

## 🔐 1단계: 기본 접속 및 인증

### 1-1. 로그인 페이지
```
URL: http://localhost:3000/login
```
- [ ] 페이지 정상 로드 (에러 없음)
- [ ] 로그인 폼 표시
- [ ] 테스트 계정 버튼 6개 표시 (학생, 학부모, 학교교사, 진단교사, 문항개발자, 시스템관리자)
- [ ] "테스트 계정 (개발용)" 섹션 표시

### 1-2. 테스트 계정 로그인
- [ ] 학생 버튼 클릭 → 로그인 성공 → 학생 대시보드로 이동
- [ ] 학부모 버튼 클릭 → 로그인 성공 → 부모 대시보드로 이동
- [ ] 진단교사 버튼 클릭 → 로그인 성공 → 교사 포탈로 이동

### 1-3. 수동 로그인
- [ ] 이메일: `student_54@shinmyung.edu`, 비밀번호: `ReadingPro$12#` → 성공
- [ ] 잘못된 비밀번호 입력 → 에러 메시지 표시
- [ ] 존재하지 않는 이메일 → 에러 메시지 표시

---

## 👤 2단계: 학생 포탈 (student_54@shinmyung.edu)

### 2-1. 학생 대시보드
```
URL: http://localhost:3000/student/dashboard
```
- [ ] 페이지 정상 로드 (에러 없음)
- [ ] 헤더에 학생명 "소수환" 표시
- [ ] 네비게이션 메뉴 표시 (진단 현황, 평가 결과)

### 2-2. 진단 현황 페이지 ⭐ **중요**
```
URL: http://localhost:3000/student/diagnostics
```

**콘솔 에러 확인**: F12 누르고 Console 탭 확인
- [ ] `NoMethodError` 없음
- [ ] `undefined method` 에러 없음
- [ ] `ReferenceError` 없음

**페이지 레이아웃**:
- [ ] "이용 가능한 진단" 섹션 표시
  - [ ] 진단 카드 표시 (여러 개 있으면 여러 개 표시)
  - [ ] 각 카드에 진단명 표시 ⭐ **form.name 확인**
  - [ ] 각 카드에 "문항 수: N개" 표시
  - [ ] "시작하기" 버튼 표시 및 클릭 가능

- [ ] "진행 중인 진단" 섹션 표시
  - [ ] 진행 중인 평가가 있으면 카드 표시
  - [ ] 진단명 표시 ⭐ **attempt.form&.name 확인**
  - [ ] 시작 날짜 표시 (형식: "M월 D일")

- [ ] "완료된 진단" 섹션 표시
  - [ ] 완료한 평가가 있으면 카드 표시
  - [ ] 진단명 표시 ⭐ **attempt.form&.name 확인**
  - [ ] 완료 날짜 표시 (형식: "M월 D일")
  - [ ] "결과보기" 버튼 표시 및 클릭 가능

### 2-3. 평가 결과 페이지 ⭐ **중요**
```
URL: http://localhost:3000/student/reports
```

**콘솔 에러 확인**:
- [ ] `NoMethodError` 없음
- [ ] `published?` 메서드 에러 없음

**페이지 레이아웃**:
- [ ] 통계 카드 섹션 표시
  - [ ] "총 응시" 카드 (회 단위)
  - [ ] "제점 완료" 카드 (건 단위) ⭐ **a.report&.published? 작동**
  - [ ] "평균 점수" 카드 (점 단위)

- [ ] 보고서 카드 섹션 표시
  - [ ] 평가 기록이 있으면 카드 표시
  - [ ] 각 카드에 상태 배지 표시
    - [ ] "draft" (회색/노란색 배경) - 보고서 미생성
    - [ ] "generated" (초록색 배경) - 보고서 생성됨
    - [ ] "published" (파란색 배경) - 보고서 발행됨
  - [ ] 평가 날짜 표시 (형식: "YYYY.MM.DD HH:MM")
  - [ ] 점수 표시 (예: "85" /100점)
  - [ ] "진단 결과 보기" 버튼 표시
  - [ ] "상세보고서 보기" 버튼 표시

---

## 👨‍👩‍👧 3단계: 부모 포탈 (parent_54@shinmyung.edu)

### 3-1. 부모 대시보드
```
URL: http://localhost:3000/parent/dashboard
```

**성능 테스트**:
- [ ] 페이지 로드 시간 < 1.5초 (F12 → Network → Fetch/XHR)

**콘솔 에러 확인**:
- [ ] `NoMethodError` 없음
- [ ] `undefined method` 에러 없음

**페이지 레이아웃**:
- [ ] "자녀 현황" 통계 카드 섹션
  - [ ] "자녀 수" 카드 (숫자 표시)
  - [ ] "이번 달 활동" 카드 (숫자 표시)
  - [ ] "총 평가 수" 카드 (숫자 표시)
  - [ ] "평균 점수" 카드 (백분율 표시) ⭐ **calculate_average_score 작동**

- [ ] "자녀별 진행 현황" 섹션
  - [ ] 자녀 카드 표시 (여러 명이면 여러 개)
  - [ ] 자녀 이름 표시
  - [ ] 진행 추이 배지 표시 (📈 / 📉 / ➡️) ⭐ **trend 계산 정확**
  - [ ] "평가 완료 수" 표시
  - [ ] "최근 점수" 표시
  - [ ] "평균 점수" 표시
  - [ ] 미니 차트 표시 (점수 변화 그래프) - 평가 2개 이상일 때

- [ ] "최근 활동" 섹션
  - [ ] 최근 평가 기록 표시 (평가 실시, 상담 신청 등)
  - [ ] 각 활동에 아이콘 표시
  - [ ] 활동 설명 표시 (예: "소수환 - 2025학년도 중등 저학년 문해력 진단 평가 완료")
  - [ ] 점수 표시 (평가인 경우)
  - [ ] 시간 표시 (예: "2시간 전")

---

## 👨‍🏫 4단계: 교사 포탈 (teacher_diagnostic@shinmyung.edu)

### 4-1. 피드백 시스템
```
URL: http://localhost:3000/diagnostic_teacher/students/{student_id}/feedback
```

**성능 테스트**:
- [ ] 페이지 로드 시간 < 300ms

**콘솔 에러 확인**:
- [ ] `NoMethodError` 없음
- [ ] `undefined method` 에러 없음

**페이지 레이아웃**:
- [ ] Tab 1: 객관식 피드백
  - [ ] 학생 목록 표시
  - [ ] 검색 필터 작동
  - [ ] MCQ 응답 목록 표시
  - [ ] 각 응답에 피드백 입력란 표시

- [ ] Tab 2: 서술형 피드백
  - [ ] 구성 응답 목록 표시
  - [ ] 각 응답에 점수 및 피드백 입력란 표시

- [ ] Tab 3: 읽기 경향 분석
  - [ ] 학생의 읽기 프로필 표시 (속도, 이해력 등)
  - [ ] 세부 점수 표시
  - [ ] 분석 요약 텍스트 표시

---

## 📱 5단계: 모바일 반응형 테스트 (640px 이하)

**개발자 도구에서 모바일 뷰 활성화**: F12 → 📱 아이콘 → iPhone 12 선택

### 5-1. 학생 평가 페이지
```
URL: http://localhost:3000/student/diagnostics (모바일 뷰)
```
- [ ] 타이머 글씨 명확 (28px)
- [ ] "시작하기" 버튼 크기 적절 (44px+)
- [ ] 카드 레이아웃 단일 열로 표시
- [ ] 수평 스크롤 불필요

### 5-2. 평가 결과 페이지
```
URL: http://localhost:3000/student/reports (모바일 뷰)
```
- [ ] 통계 카드 단일 열로 표시
- [ ] 보고서 카드 너비 적절 (스크롤 불필요)
- [ ] 버튼 크기 터치 친화적 (44px+)
- [ ] 테이블 가로 스크롤 가능 (있을 경우)

### 5-3. 부모 대시보드
```
URL: http://localhost:3000/parent/dashboard (모바일 뷰)
```
- [ ] 통계 카드 단일 열로 표시
- [ ] 자녀 카드 너비 적절
- [ ] 미니 차트 가로 스크롤 가능
- [ ] 버튼 터치 영역 충분 (44px+)

---

## 🔄 6단계: 성능 확인

### 6-1. N+1 쿼리 확인
```
Rails 로그 또는 개발자 도구 → Network → XHR 요청 개수
```

**Teacher Feedback 페이지**:
- [ ] 데이터베이스 쿼리 수 < 10개 (최적화 확인)
- [ ] 페이지 로드 시간 < 300ms

**Parent Dashboard 페이지**:
- [ ] 데이터베이스 쿼리 수 < 15개
- [ ] 페이지 로드 시간 < 1.5초

### 6-2. 리소스 로딩
```
F12 → Network 탭 확인
```
- [ ] JavaScript 파일 정상 로드 (No 404 에러)
- [ ] CSS 파일 정상 로드 (No 404 에러)
- [ ] 이미지 정상 로드 (있을 경우)

---

## 📊 7단계: 데이터 정합성

### 7-1. 점수 계산 정확도
- [ ] 평가 점수 = 응답 정답/만점 × 100
- [ ] 평균 점수 = 모든 평가의 점수 평균
- [ ] 진행률 계산 정확 (예: 85/100 = 85%)

### 7-2. 상태 표시 정확도
- [ ] 보고서 생성 전: "draft" 상태
- [ ] 보고서 생성 후: "published" 상태
- [ ] Trend 표시 정확:
  - [ ] 점수 상승 → 📈 (improving)
  - [ ] 점수 하강 → 📉 (declining)
  - [ ] 유사한 점수 → ➡️ (stable)

### 7-3. 데이터 접근 제어
- [ ] 학생은 자신의 데이터만 볼 수 있음
- [ ] 부모는 자녀 데이터만 볼 수 있음
- [ ] 교사는 할당된 학생 데이터만 볼 수 있음

---

## ❌ 8단계: 에러 발생 여부

### 8-1. 콘솔 에러 (F12 → Console)
- [ ] `NoMethodError` 없음
- [ ] `ActiveRecord` 관련 에러 없음
- [ ] `ReferenceError` 없음
- [ ] `TypeError` 없음
- [ ] `Uncaught` 에러 없음

### 8-2. 서버 로그 에러 (Rails 터미널)
```
rails server 실행 중인 터미널에서 확인
```
- [ ] 500 Internal Server Error 없음
- [ ] `undefined method` 에러 없음
- [ ] `ActiveRecord::RecordNotFound` 없음 (적절히 처리된 경우 제외)

### 8-3. 페이지 로드 실패
- [ ] 모든 주요 페이지 정상 로드
  - [ ] 로그인 페이지
  - [ ] 학생 대시보드
  - [ ] 학생 진단 현황
  - [ ] 학생 평가 결과 ⭐
  - [ ] 부모 대시보드 ⭐
  - [ ] 교사 피드백 시스템 ⭐

---

## 📝 테스트 결과 기록

### 발견된 에러 (있을 경우만 작성)

**에러 #1**:
- **발생 위치**: [URL 또는 페이지명]
- **에러 메시지**: [콘솔/서버 로그에서 복사]
- **재현 단계**:
  1.
  2.
  3.
- **예상 동작**:
- **실제 동작**:
- **심각도**: [ ] 높음 [ ] 중간 [ ] 낮음

**에러 #2**:
- **발생 위치**:
- **에러 메시지**:
- ...

### 성능 측정 결과

| 페이지 | 로드 시간 | 상태 |
|--------|---------|------|
| 학생 진단 현황 | ___ms | [ ] 통과 [ ] 실패 |
| 학생 평가 결과 | ___ms | [ ] 통과 [ ] 실패 |
| 부모 대시보드 | ___ms | [ ] 통과 [ ] 실패 |
| 교사 피드백 | ___ms | [ ] 통과 [ ] 실패 |

**목표**: 모든 페이지 < 2000ms (모바일 포함)

### 총평

**테스트 결과**: [ ] 전체 통과 [ ] 부분 통과 [ ] 실패

**통과한 항목**: ___개 / ___개

**남은 이슈**:
1.
2.
3.

**다음 단계**:
- [ ] 에러 수정 필요
- [ ] 추가 최적화 필요
- [ ] Production 배포 준비 완료

---

**테스트 완료 일시**: ________________
**테스트 완료자**: ________________
**승인자**: ________________
